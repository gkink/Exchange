<!DOCTYPE html PUBLIC>

<html >
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Exchan.ge</title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<link href="default.css" rel="stylesheet" type="text/css" media="screen" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
	<script type="text/javascript" src="js.js"></script>
	<script type="text/javascript">
		var xml;
		var xmlHt;
		function searchFunction(){
			var searchValue = document.getElementById("s").value;
			if(searchValue !== ""){
				xml = new XMLHttpRequest();
				xml.open("post", "guestItemSearch?item=" + document.getElementById("s").value, true);
				xml.onreadystatechange = readyStateHandler;
				xml.send();				
			}else{
				document.getElementById("searchContent").innerHTML = "";				
			}
		}

		function readyStateHandler(){
			if(xml.readyState === 4 && xml.status === 200){
				document.getElementById("searchContent").innerHTML = xml.responseText;
			}
		}

		function readyforTransactios(){
			
		}
	</script>
	<script>
		var xml1 = new XMLHttpRequest();
		var run1=ItemShower();
		var myVar1=setInterval(function(){ItemSHower()},1000000);
		function ItemShower(){
			xml1.open("post", "RealItemUpdater" , true);
			xml1.onreadystatechange = readyStateHandler2;
			xml1.send();
		}
			               
		function readyStateHandler2(){
			if(xml1.readyState === 4){
				document.getElementById("realItems").innerHTML = "";
			 	generateSearchResults2("realItems");                                        
			                                
			 }
		}
	function generateSearchResults2(type){
		var resp = xml1.responseXML;
		var idList = resp.getElementsByTagName("itemID");
		var nameList = resp.getElementsByTagName("itemName");
		for(var i = 0 ; i < idList.length ; i++){
		var id = idList[i].childNodes[0].nodeValue;
		var name = nameList[i].childNodes[0].nodeValue;                                
		document.getElementById(type).innerHTML += generateElem2(id, name);
	}
	}
	function generateElem2(id, name){
		var href = "http://localhost:8080/Exchange/item.jsp?id=" + id;
		return  "<p><a href= \" " + href + " \" >" + name + "</a></p>"; 
	}
</script>  
	
</head>
<body>
<!-- start header -->

<div id="header">
	<div id="logo">
		<h1><a href="NewHomepage.jsp">Exchan.ge</a></h1>
		
	</div>
	<div id="rss"><img src="images/sosial media.jpg" width="250px" height="110px"></div>
	<div id="search">
	
		<form id="searchform" name="search" method="get" action="">
			<fieldset>
				<input type="text" name="s" id="s" size="15" onkeyup="searchFunction()" onkeydown="searchFunction()" placeholder="Search for an item" />
				<input type="submit" id="x" value="Search" />
			</fieldset>
		</form>
	</div>
</div>
<!-- end header -->

<!-- start page -->
<div id="page">
	<div id="left">
		<ul id="searchContent">
		</ul>
	</div>

	<div id="right">
		<div id="full_form">
			<div id="form_top">
				<div id="signup"><p id="signup">Sign Up</p></div>
				<div id="signin"><p id="signin">Sign In</p></div>
			</div>
			<div id="form_body">
				<form method="post" action="Register" id="first">
					<input name="firstName" placeholder="FirstName" required="required" tabindex="1" type="text">
					<input name="lastName" placeholder="LastName" required="required" tabindex="2" type="text">
					<input name="email" placeholder="Email" required="required" tabindex="3" type="text">
					<input name="password" placeholder="Password" required="required" tabindex="4" type="password">
					<input class="button" type="submit" value="Sign Up">
				</form>
				<form method="post" action="Register" id="second">
					<input name="email" placeholder="Email" required="required" tabindex="3" type="text">
					<input name="password" placeholder="Password" required="required" tabindex="4" type="password">
					<input class="button" type="submit" required="required" value="Sign In">
				</form>
			</div>
		</div>
			<div id="trans">
				<ul id="latest_transactions">
				</ul>
			</div>

	</div>
</div>
<!-- end page -->


<!-- start footer -->
<div id="footer">
	<p class="legal">
</div>

<!-- end footer -->


</body>
</html>
